<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>VFML: batchtest File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.2 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="globals.html">Globals</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>batchtest File Reference</h1><hr><a name="_details"></a><h2>Detailed Description</h2>
Performs cross validation of a collection of learners on a collection of datasets. 
<p>
<b>Requires</b>: <a class="el" href="xvalidate.html">xvalidate</a> and <a class="el" href="folddata.html">folddata</a> be in your path.<p>
You can use batchtest with large datasets, but you will need enough disk space to hold 'folds' copies of the largest dataset.&nbsp; Of course, the learners you use with batchtest must also be able to work with the large datasets.<p>
Batchtest expects to find two input files: one that contains descriptions of the datasets it should use, and one that contains descriptions of the learners it should run on them.&nbsp; In these files blank lines are ignored and lines beginning with '#' as the first character on the line are ignored as comments; every other line contains a description of a learner or a dataset.&nbsp; In the dataset file, the description lines have the following format:<p>
<code>[path to the directory holding the dataset] :: [file stem of the dataset]</code><p>
In the learners file, the description lines should contain the command to run with the appropriate arguments.&nbsp; When batchtest invokes a learner, it will run the exact line from the learners file with the <code>&lt;filestem&gt;</code> of the current cross-validation fold of the current dataset appended.&nbsp; The learner should be prepared to look for input in in C4.5 format in <code>&lt;filestem&gt;.names</code> and <code>&lt;filestem&gt;.data</code>; it should test on the examples in <code>&lt;filestem&gt;.test</code> and print the following to standard out:<p>
<code>error-rate&nbsp;&nbsp; size</code><p>
The learner's error rate on the test set, followed by some whitespace, followed by the size of the learned model (in whatever unit you want), followed by a newline. <p>
Batchtest will collect the output of the runs of the learners, average them and report:<p>
<code>mean-error-rate (standard deviation of error rate) mean-size (standard deviation of size) average-utime (standard deviation of utime) average-stime (standard deviation of stime)</code><p>
for example:<p>
<code>26.111 (5.500) 0.000 (0.000) 0.013 (0.005) 0.010 (0.008)</code><p>
The times are very accurate on UNIX. Under CYGNUS (windows) utime will be a good estimate, but not as accurate and stime will be zero.<p>
<dl compact><dt><b><a class="el" href="wish.html#_wish000015">Wish List:</a></b></dt><dd>I think the input format for batchtest is a little brittle and it could use some improvement </dd></dl>
<h2>Arguments</h2>
<p>
<ul>
<li>-data &lt;dataset file&gt;<ul>
<li>Set the path to the file containing the dataset descriptions (default datasets)</li></ul>
</li><li>-learn &lt;learner file&gt;<ul>
<li>Set the path to the file containing the learner descriptions (default learners)</li></ul>
</li><li>-folds &lt;n&gt;<ul>
<li>Sets the number of train/test sets to create (default 10)</li></ul>
</li><li>-seed &lt;n&gt;<ul>
<li>Sets the random seed, multiple runs with the same seed will produce the same datasets (defaults to a random seed).&nbsp; If you use a random seed, the value of the randomly selected seed will be printed at the start of the run.&nbsp; You can later use that seed to repeat the experiment.&nbsp; You can pass the same seed to <a href="xvalidate.htm">xvalidate</a> to focus on a particular learner/dataset combination for debugging.&nbsp; If that doesn't help enough, you can pass the same seed to <a href="folddata.htm">folddata</a> to recreate the exact test/training sets for closer inspection.</li></ul>
</li><li>-v<ul>
<li>Can be used multiple times to increase the debugging output</li></ul>
</li></ul>
<p>
<h2>Example</h2>
<p>
Contents of datasets file:<p>
<div class="fragment"><pre>
  # Here are the datasets&lt;br&gt;
  ../../datasets/mushroom/ :: mushroom

  ../../datasets/voting/ :: voting
</pre></div><p>
Contents of the learners file: <p>
<div class="fragment"><pre>
  &lt;p&gt;# A simple learner to set a baseline
  mostcommonclass -u -f
  # My fancy learner with a couple different parameter sets
  deep-thought -tc 4.7 -e 1.1 -u -f
  deep-thought -tc 2 -e 5 -u -f
</pre></div><p>
<code>batchtest -data datasets -learn learners -folds 15 -seed 100</code> <p>
Does 15-fold cross-validation of the learners in the learners file on the datasets in the datasets file.&nbsp; It will use a seeded random number generator so the exact experiment could be reproduced.&nbsp; The actual calls to the learners will look something like this:<p>
<div class="fragment"><pre>
  mostcommonclass -u -f mushroom0
  mostcommonclass -u -f mushroom1
  mostcommonclass -u -f mushroom2
  ...
  deep-thought -tc 4.7 -e 1.1 -u -f mushroom0
  deep-thought -tc 4.7 -e 1.1 -u -f mushroom1
  ...
  etc...
</pre></div><p>
You should see the <a href="examples/using-batchtest.htm">using-batchtest</a> example for a more detailed example complete with sample -data and -learn files.
<p>
<table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
</table>
<hr>
<small>Generated for VFML by <a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 ></a>
hosted by <A href="http://sourceforge.net"> <IMG
src="http://sourceforge.net/sflogo.php?group_id=85301&amp;type=2"
width="125" height="37" border="0" alt="SourceForge.net Logo" /></A>
</small>
